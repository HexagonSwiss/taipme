<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- File generated by Telosys Tools Generator ( version 2.1.1 ) - Date 2017-07-20 ( Time 13:31:00 ) -->

<div  xmlns:jsp="http://java.sun.com/JSP/Page" xmlns:c="http://java.sun.com/jsp/jstl/core"
     xmlns:s="http://www.springframework.org/tags" xmlns:form="http://www.springframework.org/tags/form" 
     xmlns:util="urn:jsptagdir:/WEB-INF/tags/util" xmlns:input="urn:jsptagdir:/WEB-INF/tags/input" 
     xmlns:security="http://www.springframework.org/security/tags"
     xmlns:fn="http://java.sun.com/jsp/jstl/functions"
     version="2.0">
<jsp:directive.page contentType="text/html;charset=UTF-8"/>
<jsp:output omit-xml-declaration="yes"/>


<div id="col-right" class="col-right ">	
		<div class="container center-container">
					
		<div class="row justify-content-center">			
			<div class="col-md-12 login-form-posiz">				
				<h2 class="mb-4">cambio password</h2>
	    		<s:url value="${saveAction}" var="url_form_submit" />	    	
				<form:form  modelAttribute="anaUtente" cssClass=" form-horizontal" method="POST" action="${url_form_submit}" >
					
					<form:errors path="*" cssClass="alert alert-danger" element="div" />	
					<form:hidden path="idUte" />					
					<div class="form-group">
						<div class="col-sm-12">												
							<div class="input-group">								
 								<form:input id="anaUtente_email" path="email" class="form-control textinputcss" readonly="true" maxLength="60" size="50"/>
 							</div>								
						</div>
					</div>							
					<div class="form-group">						
						<div class="col-sm-12">
							<div class="input-group">									  					
	  							<form:password placeholder="password attuale"  id="anaUtente_pwd" path="pwd" class="form-control textinputcss" maxLength="60" size="50"   required="required" />
								<form:errors id="anaUtente_pwd_errors" path="pwd" cssClass="label label-danger" />
							</div>								
						</div>
					</div>					
					<div class="form-group">
						<div class="col-sm-12">									
							<div class="input-group">																
			  					<form:password id="anaUtente_pwdNew" placeholder="nuova password" pattern=".{5,15}" title="Lunghezza Minima 5 - Massima 15" path="pwdNew" class="form-control textinputcss" maxLength="60" size="50" required="required" />								
			  					<form:errors id="anaUtente_pwdNew_errors" path="pwdNew" cssClass="label label-danger" />
							</div>
						</div>
					</div>
					<div class="form-group">
						<div class="col-sm-12">									
							<div class="input-group">								
			  					<form:password id="anaUtente_pwdConf" placeholder="conferma la nuova password" pattern=".{5,15}" title="Lunghezza Minima 5 - Massima 15" path="pwdConf" class="form-control textinputcss" maxLength="50" size="50"   required="required" />
								<form:errors id="anaUtente_pwdConf_errors" path="pwd" cssClass="label label-danger" />
							</div>
						</div>
					</div>			
					<div class="col-sm-10">  						
 						<label class="titoloMsg" for="mysave" id="pwd_message" ></label>
					</div>
						
					<!-- ACTION BUTTONS -->
					<div class="col-sm-8">					
						<button disabled="disabled" id="mysave" type="submit" class="btn btn-link labellink">_aggiorna</button>										
					</div>
									
			</form:form>
		
	</div> <!-- col12 -->
	</div> <!-- row -->
	</div> <!-- container-fluid primary-content -->
</div> <!-- col-right -->
	
	<br></br>
	<br></br>
	<script>
//<![CDATA[

			$(document).ready(function() {  
				$( "#mysave" ).prop('disabled', false);
				
				$( "input[type='password']" ).keyup(function() {
					if ($( "#anaUtente_pwd" ).val() == null || $( "#anaUtente_pwd" ).val() == ""){
					  	$( "#mysave" ).prop('disabled', true);
					  	$("#pwd_message").html("digita la password attuale");
					  	return;
					}
					if ($( "#anaUtente_pwdNew" ).val() == null || $( "#anaUtente_pwdNew" ).val() == ""){
					  	$( "#mysave" ).prop('disabled', true);
					  	$("#pwd_message").html("scegli la nuova password");
					  	return;
					}
					if ($( "#anaUtente_pwdConf" ).val() == null || $( "#anaUtente_pwdConf" ).val() == ""){
					  	$( "#mysave" ).prop('disabled', true);
					  	$("#pwd_message").html("conferma la nuova password");
					  	return;
					}
					
	
					var pwd = $( "#anaUtente_pwdNew" ).val();
					var pwdconf = $( "#anaUtente_pwdConf" ).val();
					var n = pwd.localeCompare(pwdconf);
					if ( n != 0)
					{
						$( "#mysave" ).prop('disabled', true);
					  	$("#pwd_message").html("le due nuove password non coincidono");
					  	return;
					}
						
					 	$( "#mysave" ).prop('disabled', false);
					 	$("#pwd_message").html("");
					
					});
			
			});

	//]]>
</script>
</div>
